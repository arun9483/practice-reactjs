import{j as n,r as T}from"./index-DB-gFcuY.js";import{f as o}from"./chunk-LSEVNFON-G8OzWBoO.js";const x=({tabs:a,activeTabId:e,renderTabContent:d,onAddTab:s,onSwitchTab:t,onCloseTab:r})=>n.jsxs("div",{className:"tab-management-window",children:[n.jsxs("div",{className:"tab-list-container",children:[n.jsx("div",{className:"tab-list",children:a.map(i=>n.jsxs("div",{className:i.id===e?"tab active":"tab",onClick:()=>t(i.id),children:[n.jsx("span",{children:i.title}),n.jsx("button",{onClick:()=>r(i.id),children:"X"})]},i.id))}),n.jsx("div",{className:"add-tab",children:n.jsx("button",{onClick:s,children:"+"})})]}),n.jsxs("div",{className:"tab-content-area",children:[n.jsx("h3",{children:"Tab content"}),n.jsx("div",{children:e?d(e):a.length?"Select a tab to display content":"There are no tabs. Click the + button to add a new tab."})]})]});function m(a,e){var d,s;switch(e.action){case"OPEN_TAB":{const t=e.payload.newTab;return{...a,tabs:[...a.tabs,t],activeTabId:t.id}}case"CLOSE_TAB":{const t=a.tabs.findIndex(i=>i.id===e.payload.tabId);if(t===-1)return a;let r=a.activeTabId;return a.activeTabId===e.payload.tabId&&(a.tabs.length===1?r=null:t===a.tabs.length-1?r=(d=a.tabs[t-1])==null?void 0:d.id:r=(s=a.tabs[t+1])==null?void 0:s.id),{...a,tabs:a.tabs.filter(i=>i.id!==e.payload.tabId),activeTabId:r}}case"SWITCH_TO_TAB":return a.tabs.some(r=>r.id===e.payload.activeTabId)?{...a,activeTabId:e.payload.activeTabId}:a;default:return a}}const j=({initialState:a,renderTabContent:e,newTabHandler:d})=>{const[s,t]=T.useReducer(m,a),r=()=>{const c=d();t({action:"OPEN_TAB",payload:{newTab:c}})},i=c=>{t({action:"SWITCH_TO_TAB",payload:{activeTabId:c}})},h=c=>{t({action:"CLOSE_TAB",payload:{tabId:c}})};return n.jsx("div",{className:"tab-management-container",children:n.jsx(x,{tabs:s.tabs,activeTabId:s.activeTabId,renderTabContent:c=>{const l=s.tabs.find(u=>u.id===c);return l?e(l):"Tab not found"},onAddTab:r,onSwitchTab:i,onCloseTab:h})})},v=a=>a?n.jsxs("div",{children:[n.jsxs("h4",{children:["id: ",a.id]}),n.jsxs("div",{children:["title: ",a.title]}),n.jsxs("p",{children:["content: ",a.content]})]}):null,b=()=>{const d=Math.floor(Math.random()*3)+1;return{id:o.string.uuid(),title:o.lorem.words(d),content:o.lorem.paragraph()}},p=()=>{const[a,e]=T.useState(o.string.uuid()),d=Array.from({length:3},()=>b()),s={tabs:d,activeTabId:d[d.length-1].id};return n.jsxs("div",{children:[n.jsx("button",{onClick:()=>e(o.string.uuid()),children:"Reset Tabs"}),n.jsx(j,{initialState:s,renderTabContent:v,newTabHandler:b},a)]})};export{p as default};
