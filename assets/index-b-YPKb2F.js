import{r as l,j as e}from"./index-CK4H2O-z.js";import{f as o}from"./chunk-LSEVNFON-G8OzWBoO.js";const r={tabs:[],activeTabId:null};function b(a,n){var t,i;switch(n.action){case"OPEN_TAB":{const d={id:o.string.uuid(),title:o.lorem.sentence()};return{...a,tabs:[...a.tabs,d],activeTabId:d.id}}case"CLOSE_TAB":{const d=a.tabs.findIndex(c=>c.id===n.payload.tabId);if(d===-1)return a;let s=a.activeTabId;return a.activeTabId===n.payload.tabId&&(a.tabs.length===1?s=null:d===a.tabs.length-1?s=(t=a.tabs[d-1])==null?void 0:t.id:s=(i=a.tabs[d+1])==null?void 0:i.id),{...a,tabs:a.tabs.filter(c=>c.id!==n.payload.tabId),activeTabId:s}}case"SWITCH_TO_TAB":return a.tabs.some(s=>s.id===n.payload.activeTabId)?{...a,activeTabId:n.payload.activeTabId}:a;default:return a}}const u=({closeWindowHandler:a})=>{const[n,t]=l.useReducer(b,r);return e.jsxs("div",{className:"tab-management-window",children:[e.jsxs("div",{className:"tab-list-container",children:[e.jsx("div",{className:"tab-list",children:n.tabs.map(i=>e.jsxs("div",{className:i.id===n.activeTabId?"tab active":"tab",onClick:()=>t({action:"SWITCH_TO_TAB",payload:{activeTabId:i.id}}),children:[e.jsx("span",{children:i.id}),e.jsx("button",{onClick:()=>t({action:"CLOSE_TAB",payload:{tabId:i.id}}),children:"X"})]},i.id))}),e.jsx("div",{className:"add-tab",children:e.jsx("button",{onClick:()=>t({action:"OPEN_TAB"}),children:"+"})})]}),e.jsxs("div",{className:"tab-content-area",children:[e.jsx("h3",{children:"Tab content"}),e.jsx("div",{children:n.activeTabId??"There are no tabs open. Click the + button to add a new tab"})]}),e.jsx("div",{children:e.jsx("button",{onClick:a,children:"close window"})})]})},x=()=>{const[a,n]=l.useState(!1);return e.jsx("div",{className:"tab-management-container",children:a?e.jsx(u,{closeWindowHandler:()=>{n(!1)}}):e.jsxs("div",{className:"empty-container",children:["No windows are open at the moment."," ",e.jsx("button",{onClick:()=>{console.log("open new window"),n(!0)},children:"click me!"})," ","to open a new one!"]})})};export{x as default};
