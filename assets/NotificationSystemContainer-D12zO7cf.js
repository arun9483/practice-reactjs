import{r as n,j as i}from"./index-CZSIoD7d.js";import{f as l}from"./chunk-LSEVNFON-G8OzWBoO.js";const m={notifications:[],addNotification:t=>{console.log(t)},removeNotification:t=>{console.log(t)}},d=n.createContext(m),f=()=>{const t=n.useContext(d);if(!t)throw new Error("useNotificationSystem is used outside of NotificationSystemProvider");return t},N=t=>Array.from({length:t},()=>u()),u=()=>{const t=["success","warning","error"];return{id:l.string.uuid(),title:l.lorem.sentence(),message:l.lorem.paragraph(),notificationType:l.helpers.arrayElement(t)}},x=()=>{const{addNotification:t}=f();return i.jsx("button",{onClick:()=>{const o=u();t(o)},children:"generate new notification"})},h=N(5);function p(t,o){switch(o.type){case"ADD_NOTIFICATION":return[...t,o.payload];case"REMOVE_NOTIFICATION":return t.filter(e=>e.id!==o.id);default:return t}}const y=3e3,j=({notification:t})=>{const{id:o,title:e,message:a,notificationType:s}=t,{removeNotification:c}=f();return n.useEffect(()=>{s==="success"&&setTimeout(()=>c(o),y)},[o,s,c]),i.jsxs("div",{className:`notification ${s}`,children:[i.jsxs("div",{className:"title-cta",children:[i.jsx("h4",{className:"title",children:e}),i.jsx("div",{className:"cta",children:i.jsx("button",{onClick:()=>c(o),children:"x"})})]}),i.jsx("div",{className:"message",children:a})]},o)},g=({children:t,position:o="top-right"})=>{const[e,a]=n.useReducer(p,h),s=n.useCallback(r=>{a({type:"ADD_NOTIFICATION",payload:r})},[]),c=n.useCallback(r=>{a({type:"REMOVE_NOTIFICATION",id:r})},[]);return i.jsxs(d,{value:{notifications:e,addNotification:s,removeNotification:c},children:[i.jsx("div",{className:`notifications-provider ${o}`,children:e.map(r=>i.jsx(j,{notification:r}))}),t]})},T=()=>i.jsxs("div",{children:[i.jsx("h2",{children:"Notification System"}),i.jsx(g,{position:"top-right",children:i.jsx(x,{})})]});export{T as default};
