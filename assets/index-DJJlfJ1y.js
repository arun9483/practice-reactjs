import{j as n,r as u}from"./index-CZSIoD7d.js";import{f as o}from"./chunk-LSEVNFON-G8OzWBoO.js";const m=({tabs:a,activeTabId:e,renderTabContent:s,onAddTab:r,onSwitchTab:t,onCloseTab:i})=>n.jsxs("div",{className:"tab-management-window",children:[n.jsxs("div",{className:"tab-list-container",children:[n.jsx("div",{className:"tab-list",children:a.map(d=>n.jsxs("div",{className:d.id===e?"tab active":"tab",onClick:()=>t(d.id),children:[n.jsx("span",{children:d.title}),n.jsx("button",{onClick:()=>i(d.id),children:"X"})]},d.id))}),n.jsx("div",{className:"add-tab",children:n.jsx("button",{onClick:r,children:"+"})})]}),n.jsxs("div",{className:"tab-content-area",children:[n.jsx("h3",{children:"Tab content"}),n.jsx("div",{children:e?s(e):a.length?"Select a tab to display content":"There are no tabs. Click the + button to add a new tab."})]})]});function x(a,e){var s,r;switch(e.action){case"OPEN_TAB":{const t=e.payload.newTab;return{...a,tabs:[...a.tabs,t],activeTabId:t.id}}case"CLOSE_TAB":{const t=a.tabs.findIndex(d=>d.id===e.payload.tabId);if(t===-1)return a;let i=a.activeTabId;return a.activeTabId===e.payload.tabId&&(a.tabs.length===1?i=null:t===a.tabs.length-1?i=(s=a.tabs[t-1])==null?void 0:s.id:i=(r=a.tabs[t+1])==null?void 0:r.id),{...a,tabs:a.tabs.filter(d=>d.id!==e.payload.tabId),activeTabId:i}}case"SWITCH_TO_TAB":return a.tabs.some(i=>i.id===e.payload.activeTabId)?{...a,activeTabId:e.payload.activeTabId}:a;default:return a}}const v=({initialState:a,renderTabContent:e,newTabHandler:s})=>{const[r,t]=u.useReducer(x,a),i=()=>{const c=s();t({action:"OPEN_TAB",payload:{newTab:c}})},d=c=>{t({action:"SWITCH_TO_TAB",payload:{activeTabId:c}})},T=c=>{t({action:"CLOSE_TAB",payload:{tabId:c}})};return n.jsx("div",{className:"tab-management-container",children:n.jsx(m,{tabs:r.tabs,activeTabId:r.activeTabId,renderTabContent:c=>{const l=r.tabs.find(h=>h.id===c);return l?e(l):"Tab not found"},onAddTab:i,onSwitchTab:d,onCloseTab:T})})},j=a=>a?n.jsxs("div",{children:[n.jsxs("h4",{children:["id: ",a.id]}),n.jsxs("div",{children:["title: ",a.title]}),n.jsxs("p",{children:["content: ",a.content]})]}):null,b=()=>{const s=Math.floor(Math.random()*3)+1;return{id:o.string.uuid(),title:o.lorem.words(s),content:o.lorem.paragraph()}},I={tabs:Array.from({length:3},()=>b()),activeTabId:null},w=()=>n.jsx(v,{initialState:I,renderTabContent:j,newTabHandler:b});export{w as default};
